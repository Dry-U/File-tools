advanced:
  auto_optimize_index: true
  index_refresh_interval: 3600
  max_cached_results: 1000
  optimize_interval: 86400
  whoosh_mem_limit: 512
ai_model:
  api:
    api_key: ''
    api_url: https://api.deepseek.com/v1/chat/completions
    keys:
      custom: ''
      deepseek: ''
      siliconflow: ''
    max_context: 8192
    max_tokens: 2048
    model_name: deepseek-chat
    provider: deepseek
    retrieval:
      chunk_overlap: 200
      chunk_size: 2000
      max_docs: 10
      min_doc_score: 0.4
  enabled: true
  local:
    api_url: http://localhost:8000/v1/chat/completions
    max_context: 4096
    max_tokens: 512
    model_name: local
  mode: local
  penalties:
    frequency_penalty: 0
    presence_penalty: 0
    repeat_penalty: 1.1
  sampling:
    max_tokens: 2048
    min_p: 0.05
    seed: -1
    temperature: 0.7
    top_k: 40
    top_p: 0.9
  security:
    retry_count: 2
    timeout: 120
    verify_ssl: true
  system_prompt: '你是一名专业的中文文档助理。请根据下方的【文档集合】回答用户的【问题】。

    规则：

    1. 严格基于文档内容回答，不要编造。

    2. 如果用户询问某人、某事出现在哪里，或者询问来源，请务必列出对应的文件名。

    3. 如果答案仅出现在文件名中（例如文件名包含查询词），请明确指出该文件。

    4. 如果文档中没有相关信息，请直接说明未找到。

    '
embedding:
  batch_size: 8
  cache_dir: data/models/
  enabled: true
  model_name: iic/nlp_gte_sentence-embedding_chinese-base
  provider: modelscope
  similarity_threshold: 0.7
file_scanner:
  exclude_patterns: .git;.svn;.hg;__pycache__;.idea;.vscode;node_modules;venv;env;.DS_Store;Thumbs.db
  file_types:
    archive: .zip,.rar,.7z,.tar,.gz
    code: .py,.js,.java,.cpp,.c,.h,.cs,.go,.rs,.php,.rb,.swift
    document: .txt,.md,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.csv,.json,.xml
  hash_cache_size: 10000
  max_file_size: 100
  recursive: true
  scan_paths:
  - D:\Garbage\Career\Senior\Thesis
  scan_threads: 4
index:
  batch_size: 100
  commit_interval: 30
  hnsw_path: ./data/hnsw_index
  metadata_path: ./data/metadata
  tantivy_path: ./data/tantivy_index
interface:
  auto_save_settings: true
  font_size: 12
  language: zh_CN
  max_preview_size: 5242880
  result_columns:
  - 文件名
  - 路径
  - 匹配度
  - 修改时间
  splitter_pos: 300
  theme: light
monitor:
  debounce_time: 0.1
  directories:
  - D:\Garbage\Career\Senior\Thesis
  enabled: true
  ignored_patterns: .git;.svn;.hg;__pycache__;.idea;.vscode;node_modules;venv;env;.DS_Store;Thumbs.db
  max_workers: 2
  refresh_interval: 1
rag:
  context_exhausted_response: 对话过长，为避免超出上下文，请说'重置'或简要概括后再继续。
  fallback_response: '我在本地索引中暂时没有找到与" {query} "直接对应的正文内容。

    你可以：

    1. 再提供更具体的描述（如文件名、章节、作者、时间等）；

    2. 指明文件类型或格式，例如"PDF 报告""Word 文档"；

    3. 如果需要的是操作指南或检索策略，也欢迎直接告诉我，我会给出建议。

    告诉我更详细的线索后，我会立即在全部已扫描文件中再次检索。

    '
  frequency_penalty: 0
  greeting_keywords:
  - 你好
  - 您好
  - hi
  - hello
  - 嗨
  - 嘿
  - 在吗
  - 在不
  greeting_response: '你好呀，我是 FileTools Copilot，本地文件的智能助手。

    我可以帮你搜索 PDF、Word、PPT 甚至代码，把结果整理成摘要或问答。

    需要查资料、找报告要点、生成概览或者验证内容都可以直接告诉我。

    只要说出关键词或问题，我就能立刻从本地库里找到相关内容。

    '
  max_context_chars: 4000
  max_context_chars_total: 8000
  max_docs: 3
  max_history_chars: 1000
  max_history_turns: 3
  max_output_tokens: 2048
  max_tokens: 2048
  min_p: 0.05
  presence_penalty: 0
  prompt_template: '你是一名专业的中文文档分析助理。请基于【文档集合】中的内容，对用户的【问题】提供一个连贯、流畅、总结性的回答。


    核心要求：

    1. 严格基于文档内容回答，不得编造任何信息。

    2. 将相关信息整合成一个连贯的段落，而非分点列表。

    3. 突出关键信息和核心内容，提供综合性的总结。

    4. 对于人物、研究、技术等主题，提供背景、方法、成果等的完整概述。

    5. 如需引用来源，请在回答中自然提及文档名称，而非单独列出。

    6. 重点提取技术细节、研究方法、实现方案、实验结果等知识性内容。

    7. 对于多个文档的信息，进行有机整合，形成统一的叙述。

    8. 避免机械重复文档原文，而是进行概括和总结。

    9. 确保回答逻辑清晰、语句通顺，形成完整的信息实体描述。


    【文档集合】:

    {context}


    【问题】: {question}


    请提供一个连贯、总结性的回答：

    '
  repeat_penalty: 1.1
  repetition_penalty: 1.1
  reset_commands:
  - 重置
  - 清空上下文
  - reset
  - restart
  reset_response: 已清空上下文，可以重新开始提问。
  seed: -1
  temperature: 0.7
  top_k: 40
  top_p: 0.9
search:
  bm25_b: 0.75
  bm25_k1: 1.5
  cache_ttl: 3600
  filename_boost: 1.5
  highlight: true
  hybrid_boost: 1.1
  keyword_boost: 1.2
  max_results: 50
  min_score: 0.3
  result_boost: true
  semantic_score_high_threshold: 60.0
  semantic_score_low_threshold: 30.0
  text_weight: 0.6
  vector_weight: 0.4
security:
  rate_limiter:
    enabled: true
    max_entries: 10000
    search_limit: 20
    search_window: 60
    chat_limit: 10
    chat_window: 60
    rebuild_limit: 1
    rebuild_window: 600

system:
  app_name: 智能文件检索与问答系统
  cache_dir: ./data/cache
  data_dir: ./data
  index_dir: ./data/index
  log_backup_count: 5
  log_dir: ./data/logs
  log_format: structured
  log_json: false
  log_level: INFO
  log_max_size: 10
  log_rotation: midnight
  log_sensitive_data: false
  temp_dir: ./data/temp
  version: 1.0.0
